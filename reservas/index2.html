<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury House Cabaña | Villas de Palmarito</title>
    <meta name="description" content="Cabaña de lujo en Villas de Palmarito. 4 Habitaciones, capacidad para 16 personas, piscina privada y parqueadero para 5 carros.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Lato:wght@300;400;700&display=swap');
        
        .font-serif { fontFamily: 'Playfair Display', serif; }
        .font-body { fontFamily: 'Lato', sans-serif; }
        
        .animate-fade-in-up {
            animation: fadeInUp 1s ease-out forwards;
            opacity: 0;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* NUEVA ANIMACIÓN DE PANEO SUTIL (Ken Burns Effect) */
        .animate-pan-subtle {
            animation: panSubtle 30s infinite alternate ease-in-out;
            will-change: transform;
        }

        @keyframes panSubtle {
            0% { transform: scale(1.15) translate(-3%, 0); }
            100% { transform: scale(1.15) translate(3%, 0); }
        }

        /* Clase para ocultar el overlay suavemente */
        .fade-out {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease-out;
        }

        /* NUEVA ANIMACIÓN PARA EL ZOOM */
        .animate-zoom-pulse {
            animation: zoomPulse 2s infinite ease-in-out;
        }

        @keyframes zoomPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.3); opacity: 1; }
        }

        /* ESTILOS DEL SISTEMA DE RESERVAS */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        /* HACK: Solo para los inputs de fecha del sistema de reservas */
        .hero-date-input::-webkit-calendar-picker-indicator {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            color: transparent;
            background: transparent;
            cursor: pointer;
        }

        .custom-select {
            appearance: none;
            background-color: transparent;
            background-image: none;
        }
    </style>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>
<body class="font-body text-gray-800 bg-neutral-50 selection:bg-amber-200">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-500 bg-transparent py-6">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <div id="nav-logo" class="font-serif text-2xl font-bold tracking-widest text-white transition-colors">
                LUXURY HOUSE
            </div>

            <!-- Desktop Menu -->
            <div id="nav-links" class="hidden md:flex space-x-8 text-white/90 transition-colors">
                <a href="#experiencia" class="hover:text-amber-500 transition-colors uppercase text-xs tracking-widest font-semibold">Experiencia</a>
                <a href="#comodidades" class="hover:text-amber-500 transition-colors uppercase text-xs tracking-widest font-semibold">Comodidades</a>
                <a href="#tour-virtual" class="hover:text-amber-500 transition-colors uppercase text-xs tracking-widest font-semibold">Tour Virtual</a>
                <a href="#reservas" class="hover:text-amber-500 transition-colors uppercase text-xs tracking-widest font-semibold">Reservar</a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="md:hidden text-white transition-colors">
                <i data-lucide="menu" width="28" height="28"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full bg-white shadow-xl py-6 px-6 flex-col space-y-4">
            <a href="#experiencia" class="mobile-link text-stone-600 text-left text-lg font-serif block">Experiencia</a>
            <a href="#comodidades" class="mobile-link text-stone-600 text-left text-lg font-serif block">Comodidades</a>
            <a href="#tour-virtual" class="mobile-link text-stone-600 text-left text-lg font-serif block">Tour Virtual</a>
            <a href="#reservas" class="mobile-link text-stone-600 text-left text-lg font-serif block">Reservar</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative h-screen flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 bg-stone-900">
            <img 
                src="entrada.jpg" 
                alt="Luxury House Pool Area" 
                class="w-full h-full object-cover opacity-60 animate-pan-subtle"
                onerror="this.src='https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=2071&auto=format&fit=crop'"
            >
            <div class="absolute inset-0 bg-gradient-to-t from-stone-900/80 via-transparent to-stone-900/30"></div>
        </div>

        <div class="relative z-10 text-center px-4 max-w-4xl mx-auto">
            <div class="mb-4 inline-block animate-fade-in-up" style="animation-delay: 0.1s;">
                <span class="bg-amber-500/20 text-amber-200 border border-amber-500/30 px-4 py-1 rounded-full text-xs uppercase tracking-[0.2em]">
                    Villas de Palmarito
                </span>
            </div>
            <h1 class="font-serif text-5xl md:text-7xl lg:text-8xl text-white font-bold mb-6 leading-tight animate-fade-in-up" style="animation-delay: 0.3s;">
                Tu Refugio <br/> <span class="text-amber-400 italic font-light">Exclusivo</span>
            </h1>
            <p class="font-body text-lg md:text-xl text-stone-200 mb-10 max-w-2xl mx-auto leading-relaxed animate-fade-in-up" style="animation-delay: 0.5s;">
                Donde el lujo moderno se encuentra con la serenidad de la naturaleza. 
                El escenario perfecto para crear recuerdos inolvidables con hasta 16 invitados.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-up" style="animation-delay: 0.7s;">
                <a href="#tour-virtual" class="bg-amber-500 hover:bg-amber-600 text-white px-8 py-4 rounded-sm transition-all duration-300 transform hover:-translate-y-1 shadow-lg hover:shadow-amber-500/30 flex items-center justify-center gap-2 uppercase tracking-widest text-sm font-bold">
                    <i data-lucide="maximize" width="18"></i>
                    Ver Recorrido 360°
                </a>
                <a href="#reservas" class="bg-transparent border border-white text-white hover:bg-white hover:text-stone-900 px-8 py-4 rounded-sm transition-all duration-300 uppercase tracking-widest text-sm font-bold flex items-center justify-center">
                    Reservar Ahora
                </a>
            </div>
        </div>
    </header>

    <!-- Intro / Story Section -->
    <section id="experiencia" class="py-20 md:py-32 px-6 bg-white">
        <div class="container mx-auto">
            <div class="flex flex-col lg:flex-row items-center gap-16">
                <div class="lg:w-1/2 relative">
                    <div class="absolute -top-4 -left-4 w-24 h-24 bg-amber-100 rounded-full blur-2xl z-0"></div>
                    <div class="relative z-10 grid grid-cols-2 gap-4">
                        <img 
                            src="./experiencia-social.jpg" 
                            alt="Celebración en la piscina" 
                            class="rounded-lg shadow-xl w-full h-64 object-cover transform translate-y-8 hover:scale-105 transition-transform duration-500"
                            onerror="this.src='https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=2070&auto=format&fit=crop'"
                        >
                        <img 
                            src="./experiencia-romantica.jpg" 
                            alt="Decoración romántica en piscina" 
                            class="rounded-lg shadow-xl w-full h-64 object-cover hover:scale-105 transition-transform duration-500"
                            onerror="this.src='https://images.unsplash.com/photo-1540541338287-41700207dee6?q=80&w=2070&auto=format&fit=crop'"
                        >
                    </div>
                </div>
                <div class="lg:w-1/2">
                    <h3 class="text-amber-600 uppercase tracking-widest text-sm font-bold mb-4">La Experiencia</h3>
                    <h2 class="font-serif text-4xl md:text-5xl text-stone-800 mb-8 leading-tight">
                        Más que una cabaña, <br/>un destino en sí mismo.
                    </h2>
                    <p class="font-body text-stone-600 text-lg leading-relaxed mb-6">
                        Ubicada en el exclusivo sector de Villas de Palmarito, Luxury House ha sido diseñada pensando en la plenitud. Aquí, los días comienzan con la brisa suave y terminan bajo un cielo estrellado, reunidos alrededor de espacios creados para compartir.
                    </p>
                    <p class="font-body text-stone-600 text-lg leading-relaxed mb-8">
                        Ya sea que busques una celebración familiar íntima, un retiro con amigos o simplemente escapar de la rutina, nuestra arquitectura abierta y amenidades de primera clase garantizan confort para 16 personas sin sacrificar la privacidad.
                    </p>
                    <a href="https://www.instagram.com/luxuryhousebq/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-stone-900 border-b-2 border-amber-500 pb-1 hover:text-amber-600 transition-colors font-serif italic text-xl">
                        Síguenos en Instagram <i data-lucide="arrow-right" class="ml-2" width="20"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Amenities Section -->
    <section id="comodidades" class="py-20 bg-stone-100">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="font-serif text-4xl text-stone-800 mb-4">Comodidades de Primera Clase</h2>
                <p class="text-stone-600">Cada detalle ha sido cuidado para asegurar que tu estancia sea placentera y libre de preocupaciones.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="users" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">Capacidad para 16</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">Espacios amplios y cómodos para grupos grandes y familias completas.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="bed-double" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">4 Habitaciones de Lujo</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">Diseñadas para el descanso total, con privacidad y confort superior.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="waves" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">Piscina Fogata</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">El corazón de la casa. Perfecta para refrescarse bajo el sol.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="utensils" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">Zona BBQ y Kiosko</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">Equipado totalmente para tus asados y reuniones al aire libre.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="wifi" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">Conectividad Total</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">Wi-Fi de alta velocidad para compartir tus momentos o trabajar remoto.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="music" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">Ambiente Social</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">Sonido y espacios diseñados para la diversión y el entretenimiento.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="car" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">Parqueadero (5 Carros)</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">Amplio espacio privado y seguro para la tranquilidad de todos.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border-b-4 border-transparent hover:border-amber-400 group">
                    <div class="text-stone-400 group-hover:text-amber-500 transition-colors mb-6"><i data-lucide="coffee" width="32" height="32"></i></div>
                    <h4 class="font-serif text-xl font-bold text-stone-800 mb-3">Cocina Equipada</h4>
                    <p class="text-stone-500 text-sm leading-relaxed">Todo lo necesario para preparar desde desayunos hasta cenas especiales.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Virtual Tour Section -->
    <section id="tour-virtual" class="py-0 relative bg-stone-900 text-white">
        <div class="absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
        
        <div class="container mx-auto px-6 py-20 relative z-10">
            <div class="flex flex-col lg:flex-row gap-12 items-center">
                <div class="lg:w-1/3">
                    <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-2 block">Inmersión Total</span>
                    <h2 class="font-serif text-4xl md:text-5xl mb-6">Recorre la Cabaña <br/>Ahora Mismo</h2>
                    <p class="text-stone-300 mb-8 leading-relaxed">
                        Gracias a nuestra tecnología de recorrido virtual, puedes explorar cada habitación, medir los espacios y sentir la atmósfera de Luxury House antes de reservar.
                    </p>
                    <div class="flex items-center space-x-4 mb-8">
                        <div class="w-12 h-12 rounded-full bg-amber-500 flex items-center justify-center animate-pulse">
                            <i data-lucide="maximize" class="text-white" width="24"></i>
                        </div>
                        <span class="font-serif italic text-lg">Interactúa con el visor</span>
                    </div>
                    <p class="text-xs text-stone-500 uppercase tracking-widest border-t border-stone-700 pt-6">
                        Powered by Panoee
                    </p>
                </div>

                <div class="lg:w-2/3 w-full h-[600px] md:h-[720px] bg-stone-800 rounded-lg shadow-2xl overflow-hidden border-4 border-stone-700 relative group">
                    
                    <!-- Capa Interactiva (Overlay) con ID para JS -->
                    <div id="tour-overlay" class="absolute inset-0 z-20 flex flex-col gap-4 items-center justify-center bg-black/40 cursor-pointer transition-all duration-300">
                        
                        <!-- Botón Principal -->
                        <button class="bg-black/60 text-white px-6 py-3 rounded-full text-sm font-bold backdrop-blur-md flex items-center gap-2 hover:bg-amber-600 transition-colors shadow-lg border border-white/20">
                            <i data-lucide="hand" width="18"></i>
                            Haz clic y arrastra para explorar
                        </button>

                        <!-- Indicación de Zoom Animada -->
                        <div class="flex items-center gap-2 text-white/90 bg-black/30 px-4 py-2 rounded-full backdrop-blur-sm border border-white/5">
                            <i data-lucide="zoom-in" width="20" class="animate-zoom-pulse text-amber-400"></i>
                            <span class="text-xs font-semibold uppercase tracking-widest shadow-sm">Scroll / Pellizca para Zoom</span>
                        </div>

                    </div>
                    
                    <iframe 
                        src="https://tour.panoee.net/69156202697cc60f7567c607" 
                        width="100%" 
                        height="100%" 
                        frameBorder="0" 
                        allowFullScreen 
                        class="w-full h-full"
                        title="Luxury House Virtual Tour"
                    ></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonial Section -->
    <section class="py-24 bg-white relative overflow-hidden">
        <div class="absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-amber-50 rounded-full blur-3xl opacity-50"></div>
        <div class="container mx-auto px-6 relative z-10">
            
            <div class="text-center mb-16">
                <i data-lucide="star" class="text-amber-400 fill-current w-8 h-8 mx-auto mb-4"></i>
                <h2 class="font-serif text-3xl md:text-5xl text-stone-800 italic leading-tight">
                    Experiencias Inolvidables
                </h2>
                <p class="text-stone-500 mt-4">Lo que dicen nuestros huéspedes sobre su estadía.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Testimonio 1 -->
                <div class="bg-stone-50 p-8 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition-shadow">
                    <div class="flex gap-1 mb-4">
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                    </div>
                    <p class="font-body text-stone-600 text-lg leading-relaxed mb-6 italic">
                        "El recorrido 360° me ayudó un montón a decidirme. Pude ver todo como si estuviera ahí, cada rincón, y eso me dio la seguridad que necesitaba. ¡Lo recomiendo!"
                    </p>
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-stone-200 rounded-full overflow-hidden">
                            <img src="https://i.pravatar.cc/150?img=32" alt="Guest" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <p class="font-bold text-stone-900 text-sm">Valeria Gomez</p>
                            <p class="text-stone-500 text-xs">Visita Familiar</p>
                        </div>
                    </div>
                </div>

                <!-- Testimonio 2 -->
                <div class="bg-stone-50 p-8 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition-shadow">
                    <div class="flex gap-1 mb-4">
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                    </div>
                    <p class="font-body text-stone-600 text-lg leading-relaxed mb-6 italic">
                        "Celebramos el aniversario de mis padres y fue mágico. La zona de BBQ es perfecta y la privacidad es inigualable. Definitivamente volveremos el próximo año."
                    </p>
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-stone-200 rounded-full overflow-hidden">
                            <img src="https://i.pravatar.cc/150?img=11" alt="Guest" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <p class="font-bold text-stone-900 text-sm">Carlos Méndez</p>
                            <p class="text-stone-500 text-xs">Celebración</p>
                        </div>
                    </div>
                </div>

                <!-- Testimonio 3 -->
                <div class="bg-stone-50 p-8 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition-shadow">
                    <div class="flex gap-1 mb-4">
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                        <i data-lucide="star" class="w-4 h-4 text-amber-400 fill-current"></i>
                    </div>
                    <p class="font-body text-stone-600 text-lg leading-relaxed mb-6 italic">
                        "La atención a los detalles es increíble. Las habitaciones son súper cómodas y la fogata de la piscina me enamoró. Un 10 de 10 en servicio y calidad."
                    </p>
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-stone-200 rounded-full overflow-hidden">
                            <img src="https://i.pravatar.cc/150?img=5" alt="Guest" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <p class="font-bold text-stone-900 text-sm">Andrea Torres</p>
                            <p class="text-stone-500 text-xs">Vacaciones con Amigos</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- BOOKING SYSTEM SECTION (Diseño Actualizado) -->
    <section id="reservas" class="py-20 bg-stone-100 text-stone-800 relative">
        <div class="container mx-auto px-6 relative z-10 max-w-5xl">
            
            <!-- HEADER RESERVAS -->
            <div class="mb-12 text-center">
                <h2 class="font-serif text-3xl md:text-5xl font-bold mb-4 text-stone-800">Reserva tu Estadía</h2>
                <p class="text-stone-600 text-lg max-w-xl mx-auto">
                    Selecciona tus fechas y personaliza tu experiencia. Finaliza tu reserva directamente con nosotros vía WhatsApp.
                </p>
            </div>

            <!-- 1. BARRA DE SELECCIÓN (GRID) -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12 bg-white p-8 rounded-lg border border-stone-200 shadow-lg">
                
                <!-- A. FECHA LLEGADA -->
                <div class="relative group">
                    <label class="block text-xs uppercase tracking-widest text-amber-600 mb-2 font-medium">Llegada</label>
                    <div class="relative h-12">
                        <input type="date" id="checkin-input" class="hero-date-input absolute inset-0 opacity-0 w-full h-full cursor-pointer z-10">
                        <div id="checkin-display-container" class="absolute inset-0 text-xl py-2 border-b border-stone-300 text-stone-500 transition-colors duration-300 flex justify-between items-center pointer-events-none group-hover:border-amber-500">
                            <span id="checkin-display" class="font-light truncate">Fecha Check-in</span>
                            <i data-lucide="calendar" id="checkin-icon" class="w-5 h-5 text-stone-400"></i>
                        </div>
                    </div>
                </div>

                <!-- B. FECHA SALIDA -->
                <div class="relative group">
                    <label class="block text-xs uppercase tracking-widest text-amber-600 mb-2 font-medium">Salida</label>
                    <div class="relative h-12">
                        <input type="date" id="checkout-input" disabled class="hero-date-input absolute inset-0 opacity-0 w-full h-full cursor-not-allowed z-10">
                        <div id="checkout-display-container" class="absolute inset-0 text-xl py-2 border-b border-stone-300 text-stone-400 transition-colors duration-300 flex justify-between items-center pointer-events-none group-hover:border-amber-500">
                            <span id="checkout-display" class="font-light truncate">Fecha Salida</span>
                            <i data-lucide="calendar" id="checkout-icon" class="w-5 h-5 text-stone-300"></i>
                        </div>
                    </div>
                </div>

                <!-- C. PERSONAS -->
                <div class="relative" id="pax-container">
                    <label class="block text-xs uppercase tracking-widest text-amber-600 mb-2 font-medium">Huéspedes</label>
                    <div onclick="togglePaxDropdown()" id="pax-display-container" class="cursor-pointer text-xl py-2 border-b border-stone-300 text-stone-500 transition-colors duration-300 flex justify-between items-center hover:border-amber-500 h-12">
                        <span id="pax-display" class="font-light">Cantidad</span>
                        <i data-lucide="chevron-down" id="pax-icon" class="w-5 h-5 text-stone-400 transition-transform duration-300"></i>
                    </div>
                    <!-- Dropdown -->
                    <div id="pax-dropdown" class="hidden absolute top-full left-0 w-full bg-white text-stone-800 border border-stone-200 shadow-xl z-20 mt-2 max-h-60 overflow-y-auto transition-all duration-300 scrollbar-hide rounded-sm">
                        <!-- Options generated by JS -->
                    </div>
                </div>
            </div>

            <!-- BOTÓN CONTINUAR -->
            <div id="continue-btn-container" class="mb-12 transition-all duration-700 ease-out flex justify-center opacity-0 translate-y-4 pointer-events-none">
                <button onclick="goToForm()" class="group flex items-center gap-4 px-10 py-4 bg-amber-600 text-white rounded-sm hover:bg-amber-500 transition-all duration-300 shadow-lg shadow-amber-900/20">
                    <span class="text-sm font-bold tracking-widest uppercase">Continuar Reserva</span>
                    <i data-lucide="arrow-down" class="w-4 h-4 group-hover:translate-y-1 transition-transform"></i>
                </button>
            </div>

            <!-- 2. FORMULARIO DE DATOS (Oculto inicial) -->
            <div id="form-section" class="hidden border-t border-stone-300 pt-16 relative z-10">
                <div class="flex flex-col md:flex-row gap-12 animate-fade-in-up">
                    
                    <!-- Resumen Lateral -->
                    <div class="md:w-1/3 bg-white p-8 rounded-lg border border-stone-200 shadow-sm h-fit">
                        <h3 class="text-sm uppercase tracking-widest text-amber-600 mb-6 font-bold">Resumen</h3>
                        <div class="space-y-6">
                            <div>
                                <p class="text-xs text-stone-400 mb-1">Llegada</p>
                                <p id="summary-checkin" class="text-xl font-light text-stone-800">-</p>
                            </div>
                            <div>
                                <p class="text-xs text-stone-400 mb-1">Salida</p>
                                <p id="summary-checkout" class="text-xl font-light text-stone-800">-</p>
                            </div>
                             <div>
                                <p class="text-xs text-stone-400 mb-1">Duración</p>
                                <p id="summary-nights" class="text-xl font-light text-stone-800">-</p>
                            </div>
                            <div>
                                <p class="text-xs text-stone-400 mb-1">Huéspedes</p>
                                <p id="summary-pax" class="text-xl font-light text-stone-800">-</p>
                            </div>
                            <button onclick="editSelection()" class="text-xs text-amber-600 underline hover:text-amber-500 mt-4 block">
                                Editar selección
                            </button>
                        </div>
                    </div>

                    <!-- Campos Formulario -->
                    <div class="md:w-2/3">
                        <h3 class="text-sm uppercase tracking-widest text-amber-600 mb-8 font-bold">Tus Datos</h3>
                        
                        <form id="booking-form" onsubmit="submitBooking(event)" class="space-y-8">
                            <!-- Nombre y Apellido -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="group relative">
                                    <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Nombre</label>
                                    <input type="text" id="firstName" required class="w-full py-3 border-b border-stone-300 bg-transparent outline-none focus:border-amber-500 transition-colors text-stone-800 font-light placeholder-stone-400" placeholder="Ej. Juan">
                                </div>
                                <div class="group relative">
                                    <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Apellido</label>
                                    <input type="text" id="lastName" required class="w-full py-3 border-b border-stone-300 bg-transparent outline-none focus:border-amber-500 transition-colors text-stone-800 font-light placeholder-stone-400" placeholder="Ej. Pérez">
                                </div>
                            </div>

                            <!-- Email (Requerido para el calendario) -->
                            <div class="group relative">
                                <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Email</label>
                                <input type="email" id="email" required class="w-full py-3 border-b border-stone-300 bg-transparent outline-none focus:border-amber-500 transition-colors text-stone-800 font-light placeholder-stone-400" placeholder="Ej. juan@email.com">
                            </div>

                            <!-- Celular -->
                            <div class="group relative">
                                <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Número Celular (WhatsApp)</label>
                                <input type="tel" id="phone" required class="w-full py-3 border-b border-stone-300 bg-transparent outline-none focus:border-amber-500 transition-colors text-stone-800 font-light placeholder-stone-400" placeholder="Ej. 300 123 4567">
                            </div>

                            <!-- Notas -->
                            <div class="group">
                                <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">
                                    Comentarios o Requerimientos Especiales
                                </label>
                                <textarea id="notes-input" class="w-full py-3 border-b border-stone-300 bg-transparent outline-none focus:border-amber-500 transition-colors text-stone-800 font-light placeholder-stone-400 resize-none h-24" placeholder="¿Celebras algo especial?"></textarea>
                            </div>

                            <!-- Legales -->
                            <div class="pt-4 border-t border-stone-200 mt-8 space-y-4">
                                <label class="flex items-start gap-4 cursor-pointer group select-none">
                                    <div id="terms-check-box" class="w-5 h-5 border border-stone-400 flex items-center justify-center transition-colors duration-300 mt-1 bg-transparent min-w-[1.25rem]">
                                        <input type="checkbox" id="terms" class="hidden" onchange="toggleTerms()">
                                        <i data-lucide="check" class="w-3 h-3 text-white hidden" id="terms-check-icon"></i>
                                    </div>
                                    <span class="text-sm text-stone-500 font-light leading-relaxed">
                                        Acepto la política de tratamiento de datos personales para procesar mi reserva.
                                    </span>
                                </label>
                            </div>

                            <!-- Botón Submit -->
                            <div class="pt-8 flex justify-center">
                                <button id="submit-btn" type="submit" disabled class="px-12 py-5 bg-stone-900 text-white text-base font-bold tracking-widest uppercase rounded-sm transition-all duration-300 opacity-50 cursor-not-allowed hover:bg-green-600 hover:shadow-xl hover:scale-105 flex items-center gap-3">
                                    <i data-lucide="message-circle" class="w-6 h-6"></i>
                                    Confirmar en WhatsApp
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-stone-950 text-stone-400 py-12 border-t border-stone-800">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0 text-center md:text-left">
                    <h4 class="font-serif text-2xl text-white font-bold mb-2">LUXURY HOUSE</h4>
                    <p class="text-sm">Villas de Palmarito, Atlántico.</p>
                </div>
                
                <div class="flex space-x-6 mb-6 md:mb-0">
                    <a href="#experiencia" class="hover:text-white transition-colors">Experiencia</a>
                    <a href="#comodidades" class="hover:text-white transition-colors">Comodidades</a>
                    <a href="#tour-virtual" class="hover:text-white transition-colors">Tour 360°</a>
                </div>

                <div class="text-sm">
                    &copy; <span id="year"></span> Luxury House Cabaña.
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript para interactividad -->
    <script>
        // Inicializar iconos Lucide
        lucide.createIcons();

        // Actualizar año footer
        document.getElementById('year').textContent = new Date().getFullYear();

        // --- LÓGICA DE INTERACCIÓN DEL TOUR VIRTUAL ---
        const tourOverlay = document.getElementById('tour-overlay');
        tourOverlay.addEventListener('click', function() {
            this.classList.add('fade-out');
        });

        // --- LÓGICA DEL NAVBAR SCROLL ---
        const navbar = document.getElementById('navbar');
        const navLogo = document.getElementById('nav-logo');
        const navLinksContainer = document.getElementById('nav-links');
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('bg-white/95', 'backdrop-blur-md', 'shadow-lg', 'py-3');
                navbar.classList.remove('bg-transparent', 'py-6');
                
                navLogo.classList.replace('text-white', 'text-stone-800');
                navLinksContainer.classList.replace('text-white/90', 'text-stone-600');
                menuBtn.classList.replace('text-white', 'text-stone-800');
            } else {
                navbar.classList.remove('bg-white/95', 'backdrop-blur-md', 'shadow-lg', 'py-3');
                navbar.classList.add('bg-transparent', 'py-6');
                
                navLogo.classList.replace('text-stone-800', 'text-white');
                navLinksContainer.classList.replace('text-stone-600', 'text-white/90');
                menuBtn.classList.replace('text-stone-800', 'text-white');
            }
        });

        // Lógica del Menú Móvil
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            mobileMenu.classList.toggle('flex');
        });

        document.querySelectorAll('.mobile-link').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
                mobileMenu.classList.remove('flex');
            });
        });

        // ==========================================
        // LÓGICA DEL SISTEMA DE RESERVAS
        // ==========================================
        
        let state = {
            checkin: '',
            checkout: '',
            pax: '',
            terms: false
        };

        // Generar Pax Options (1-20)
        const paxDropdown = document.getElementById('pax-dropdown');
        for (let i = 1; i <= 20; i++) {
            const div = document.createElement('div');
            div.className = 'px-4 py-3 text-sm text-stone-600 hover:bg-stone-100 hover:text-stone-900 cursor-pointer transition-colors font-body';
            div.innerText = `${i} ${i === 1 ? 'huésped' : 'huéspedes'}`;
            div.onclick = () => selectPax(`${i} ${i === 1 ? 'huésped' : 'huéspedes'}`);
            paxDropdown.appendChild(div);
        }

        // Configuración inicial de fechas (Restricción de fechas pasadas)
        const checkinInput = document.getElementById('checkin-input');
        const checkoutInput = document.getElementById('checkout-input');
        
        // Establecer fecha mínima como hoy
        const today = new Date().toISOString().split('T')[0];
        checkinInput.min = today;

        // LOGICA CHECK-IN
        checkinInput.addEventListener('change', (e) => {
            state.checkin = e.target.value;
            const options = { month: 'long', day: 'numeric' };
            const dateParts = state.checkin.split('-');
            const dateObj = new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);
            const displayDate = dateObj.toLocaleDateString('es-ES', options); 
            
            document.getElementById('checkin-display').innerText = displayDate;
            document.getElementById('checkin-display').classList.add('text-stone-800', 'font-bold');
            document.getElementById('checkin-display').classList.remove('text-stone-500');
            document.getElementById('checkin-display-container').classList.add('border-amber-500');
            document.getElementById('checkin-icon').classList.replace('text-stone-400', 'text-amber-500');
            
            // Habilitar y Configurar Check-out
            const nextDay = new Date(dateObj);
            nextDay.setDate(nextDay.getDate() + 1);
            const nextDayStr = nextDay.toISOString().split('T')[0];
            
            checkoutInput.min = nextDayStr;
            checkoutInput.disabled = false;
            checkoutInput.classList.remove('cursor-not-allowed');
            checkoutInput.classList.add('cursor-pointer');
            
            // Reset Check-out si no es válido
            if (state.checkout && state.checkout <= state.checkin) {
                state.checkout = '';
                document.getElementById('checkout-display').innerText = "Fecha Salida";
                document.getElementById('checkout-display').classList.remove('text-stone-800', 'font-bold');
                document.getElementById('checkout-display-container').classList.remove('border-amber-500');
                document.getElementById('checkout-icon').classList.replace('text-amber-500', 'text-stone-300');
            }
            checkContinueButton();
        });

        // LOGICA CHECK-OUT
        checkoutInput.addEventListener('change', (e) => {
            state.checkout = e.target.value;
            const options = { month: 'long', day: 'numeric' };
            const dateParts = state.checkout.split('-');
            const dateObj = new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);
            const displayDate = dateObj.toLocaleDateString('es-ES', options);
            
            document.getElementById('checkout-display').innerText = displayDate;
            document.getElementById('checkout-display').classList.add('text-stone-800', 'font-bold');
            document.getElementById('checkout-display-container').classList.add('border-amber-500');
            document.getElementById('checkout-icon').classList.replace('text-stone-300', 'text-amber-500');
            
            checkContinueButton();
        });

        // Dropdown PAX
        function togglePaxDropdown() {
            const dd = document.getElementById('pax-dropdown');
            const icon = document.getElementById('pax-icon');
            dd.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        }

        function selectPax(val) {
            state.pax = val;
            document.getElementById('pax-display').innerText = val;
            document.getElementById('pax-display').classList.add('text-stone-800', 'font-bold');
            document.getElementById('pax-display-container').classList.add('border-amber-500');
            document.getElementById('pax-icon').classList.replace('text-stone-400', 'text-amber-500');
            togglePaxDropdown();
            checkContinueButton();
        }

        // Close dropdowns on click outside
        document.addEventListener('click', (e) => {
            if (!document.getElementById('pax-container').contains(e.target)) {
                document.getElementById('pax-dropdown').classList.add('hidden');
                document.getElementById('pax-icon').classList.remove('rotate-180');
            }
        });

        function checkContinueButton() {
            const btn = document.getElementById('continue-btn-container');
            if (state.checkin && state.checkout && state.pax) {
                btn.classList.remove('opacity-0', 'translate-y-4', 'pointer-events-none');
                btn.classList.add('opacity-100', 'translate-y-0');
            }
        }

        function goToForm() {
            const section = document.getElementById('form-section');
            section.classList.remove('hidden');
            updateSummary();
            setTimeout(() => {
                section.scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        function updateSummary() {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const inParts = state.checkin.split('-');
            const outParts = state.checkout.split('-');
            const dateIn = new Date(inParts[0], inParts[1] - 1, inParts[2]);
            const dateOut = new Date(outParts[0], outParts[1] - 1, outParts[2]);
            
            document.getElementById('summary-checkin').innerText = dateIn.toLocaleDateString('es-ES', options);
            document.getElementById('summary-checkout').innerText = dateOut.toLocaleDateString('es-ES', options);
            
            const diffTime = Math.abs(dateOut - dateIn);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            document.getElementById('summary-nights').innerText = `${diffDays} ${diffDays === 1 ? 'Noche' : 'Noches'}`;
            document.getElementById('summary-pax').innerText = state.pax;
        }

        function editSelection() {
            document.getElementById('reservas').scrollIntoView({ behavior: 'smooth' });
        }

        function toggleTerms() {
            state.terms = !state.terms;
            const box = document.getElementById('terms-check-box');
            const icon = document.getElementById('terms-check-icon');
            const btn = document.getElementById('submit-btn');

            if (state.terms) {
                box.classList.replace('bg-transparent', 'bg-stone-900');
                box.classList.replace('border-stone-400', 'border-stone-900');
                icon.classList.remove('hidden');
                
                btn.disabled = false;
                btn.classList.remove('opacity-50', 'cursor-not-allowed');
                btn.classList.add('hover:bg-green-600', 'shadow-xl');
            } else {
                box.classList.replace('bg-stone-900', 'bg-transparent');
                box.classList.replace('border-stone-900', 'border-stone-400');
                icon.classList.add('hidden');
                
                btn.disabled = true;
                btn.classList.add('opacity-50', 'cursor-not-allowed');
                btn.classList.remove('hover:bg-green-600', 'shadow-xl');
            }
        }

        // ==========================================
        //  INTEGRACIÓN GOOGLE APPS SCRIPT
        // ==========================================
        
        async function submitBooking(e) {
            e.preventDefault();
            
            // 1. Recopilar datos
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const notes = document.getElementById('notes-input').value;
            const checkin = state.checkin;
            const checkout = state.checkout;
            const pax = state.pax;

            const btn = document.getElementById('submit-btn');
            const originalBtnText = btn.innerHTML;
            btn.innerHTML = 'Enviando...';
            btn.disabled = true;

            // 2. Enviar a Google Apps Script (Si se configura)
            // IMPORTANTE: Reemplazar 'URL_DE_TU_APPS_SCRIPT' con la URL real de tu despliegue
            const APPS_SCRIPT_URL = 'URL_DE_TU_APPS_SCRIPT'; 

            if (APPS_SCRIPT_URL !== 'URL_DE_TU_APPS_SCRIPT') {
                try {
                    await fetch(APPS_SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors', // Importante para evitar errores CORS en formularios simples
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            nombre: firstName,
                            apellido: lastName,
                            email: email,
                            telefono: phone,
                            llegada: checkin,
                            salida: checkout,
                            huespedes: pax,
                            notas: notes
                        })
                    });
                    console.log('Datos enviados a Google Sheet/Calendar');
                } catch (error) {
                    console.error('Error enviando datos:', error);
                    // No bloqueamos el flujo de WhatsApp si falla el script
                }
            }

            // 3. Redirigir a WhatsApp
            const message = `¡Hola! 👋 Quisiera reservar la Luxury House.
            
📅 *Fechas:*
Llegada: ${checkin}
Salida: ${checkout}

👥 *Huéspedes:* ${pax}

👤 *Mis Datos:*
Nombre: ${firstName} ${lastName}
Email: ${email}
Celular: ${phone}

📝 *Notas adicionales:*
${notes ? notes : 'Ninguna'}

Quedo atento a la confirmación de disponibilidad y precio. ¡Gracias!`;

            const encodedMessage = encodeURIComponent(message);
            window.open(`https://wa.me/573246874533?text=${encodedMessage}`, '_blank');
            
            // Restaurar botón
            btn.innerHTML = originalBtnText;
            btn.disabled = false;
        }
    </script>
</body>
</html>
